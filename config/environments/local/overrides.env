# Local Development Environment Overrides
ENV=local
PLATFORM=local

# Node configuration
NODE_COUNT=3
NODE1_HOSTNAME=node1
NODE2_HOSTNAME=node2
NODE3_HOSTNAME=node3
NGINX_HOSTNAME=nginx
DASHBOARD_HOSTNAME=dashboard

# Server names
API_SERVER_NAME=_
DASHBOARD_SERVER_NAME=_

# Routing strategy
ROUTING_STRATEGY=poa_aware_hash

# Endpoints
READ_ENDPOINTS="data/list|chain|peers"
WRITE_ENDPOINTS="account/create|data/submit|data/decrypt|data/generate|sync"

# Resource limits (use local values from constants.env)
NGINX_CPU_LIMIT=${LOCAL_NGINX_CPU_LIMIT}
NGINX_MEM_LIMIT=${LOCAL_NGINX_MEM_LIMIT}
NGINX_CPU_RESERVATION=${LOCAL_NGINX_CPU_RESERVATION}
NGINX_MEM_RESERVATION=${LOCAL_NGINX_MEM_RESERVATION}

DASHBOARD_CPU_LIMIT=${LOCAL_DASHBOARD_CPU_LIMIT}
DASHBOARD_MEM_LIMIT=${LOCAL_DASHBOARD_MEM_LIMIT}
DASHBOARD_CPU_RESERVATION=${LOCAL_DASHBOARD_CPU_RESERVATION}
DASHBOARD_MEM_RESERVATION=${LOCAL_DASHBOARD_MEM_RESERVATION}

NODE_CPU_LIMIT=${LOCAL_NODE_CPU_LIMIT}
NODE_MEM_LIMIT=${LOCAL_NODE_MEM_LIMIT}
NODE_CPU_RESERVATION=${LOCAL_NODE_CPU_RESERVATION}
NODE_MEM_RESERVATION=${LOCAL_NODE_MEM_RESERVATION}

# Logging
LOG_MAX_SIZE=${LOCAL_LOG_MAX_SIZE}
LOG_MAX_FILE=${LOCAL_LOG_MAX_FILE}

# Nginx specific
NGINX_WORKER_PROCESSES=auto

# Generate upstream nodes list (3 nodes for local)
UPSTREAM_NODES_TEMPLATE="        server {{NODE_HOSTNAME}}:{{HTTP_PORT}} max_fails={{NGINX_MAX_FAILS}} fail_timeout={{NGINX_FAIL_TIMEOUT}};"

# Dashboard server block needed for local
DASHBOARD_SERVER_NEEDED=true

# Account operations routing - local routes to readers (3 nodes can handle it)
ACCOUNT_OPERATIONS_ROUTING_STRATEGY=readers

# Additional listen directive (local uses port 80)
ADDITIONAL_LISTEN_ENABLED=true

# ============================================================================
# VOLUME CONFIGURATION (Local Development)
# ============================================================================
# Local development uses Docker's default local driver
VOLUME_DRIVER=local
VOLUME_DRIVER_OPTS=
BACKUP_ENABLED=false
